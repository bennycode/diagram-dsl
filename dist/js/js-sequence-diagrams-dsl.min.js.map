{"version":3,"file":"js-sequence-diagrams-dsl.min.js","sources":["js-sequence-diagrams-dsl.js"],"names":["window","Diagram","console","warn","DSL","from","actorA","Action","escapeHash","input","ret","length","String","fromCharCode","substring","code","charCodeAt","toString","slice","toUpperCase","unescape","str","replace","seq","_","this","actorB","undefined","lineStyle","LineStyle","DEFAULT","prototype","lineTo","Command","dashTo","DASHED","ArrowStyle","OPEN","action","label","withText","Sequence","DiagramStyle","HAND_DRAWN","command","arrowStyle","andOpenArrow","SequenceDiagram","title","style","sequences","element","render","output","i","sequence","renderTo","html","sequenceDiagram","theme","saveAsPng","svgElement","children","get","svgWidth","getBoundingClientRect","width","svgHeight","height","Math","ceil","canvas","document","createElement","display","append","outer","appendChild","cloneNode","xml","innerHTML","unicodeXml","btoa","encodeURIComponent","self","image","Image","src","onload","context","getContext","fillStyle","fillRect","drawImage","anchor","download","href","toDataURL","click"],"mappings":"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"}