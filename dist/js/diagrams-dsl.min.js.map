{"version":3,"file":"diagrams-dsl.min.js","sources":["diagrams-dsl.js"],"names":["window","Diagram","undefined","console","warn","DSL","from","actorA","Action","escapeHash","input","ret","length","String","fromCharCode","substring","code","charCodeAt","toString","slice","toUpperCase","unescape","str","replace","seq","_","this","actorB","lineStyle","LineStyle","DEFAULT","prototype","lineTo","Command","dashTo","DASHED","ArrowStyle","OPEN","action","label","withText","Sequence","Theme","HAND_DRAWN","command","arrowStyle","andOpenArrow","on","diagram","addSequence","SequenceDiagram","title","style","sequences","element","sequence","push","renderTo","render","output","i","html","sequenceDiagram","theme","saveAsPng","svgElement","children","get","svgWidth","getBoundingClientRect","width","svgHeight","height","Math","ceil","canvas","document","createElement","display","append","outer","appendChild","cloneNode","xml","innerHTML","unicodeXml","btoa","encodeURIComponent","self","image","Image","src","onload","context","getContext","fillStyle","fillRect","drawImage","anchor","download","href","toDataURL","click"],"mappings":";;CACA,WACEA,OAAOC,QAAUD,OAAOC,SAAWC,OAEL,mBAAnBF,QAAOC,SAEhBE,QAAQC,KAAK,uEACbD,QAAQC,KAAK,yEAIbJ,OAAOC,QAAQI,IAAML,OAAOC,QAAQI,QACpCL,OAAOC,QAAQI,IAAIC,KAAO,SAAcC,GACtC,MAAO,IAAIN,SAAQI,IAAIG,OAAOD,IAShCP,OAAOC,QAAQI,IAAII,WAAa,SAAUC,GACxC,GAAIC,GAAMX,OAAOC,QAAQI,IAAII,WAAWC,EACxC,KAAKC,EAAK,CACR,GAAID,EAAME,OAAS,EACjBD,EAAME,OAAOC,aAAaJ,EAAMK,UAAUL,EAAME,OAAS,EAAI,EAAI,QAE9D,CACH,GAAII,GAAON,EAAMO,WAAW,EAC5BN,GAAa,IAAPK,EACF,KAAO,EAAIA,EAAKE,SAAS,KAAKC,MAAM,IAAIC,cACxC,MAAQ,MAAQJ,EAAKE,SAAS,KAAKC,MAAM,IAAIC,cAEnDpB,OAAOC,QAAQI,IAAII,WAAWE,GAAOD,EACrCV,OAAOC,QAAQI,IAAII,WAAWC,GAASC,EAEzC,MAAOA,IAGTX,OAAOC,QAAQI,IAAIgB,SAAWrB,OAAOqB,UAAY,SAAUC,GACzD,MAAOA,GAAIC,QAAQ,8BAA+B,SAAUC,GAC1D,MAAOxB,QAAOC,QAAQI,IAAII,WAAWgB,EAAED,UAM9CvB,QAAQI,IAAIG,OAAS,WAEpB,QAASA,GAAOD,GACdmB,KAAKnB,OAASA,EACdmB,KAAKC,OAASzB,OACdwB,KAAKE,UAAY3B,QAAQI,IAAIwB,UAAUC,QAczC,MAXAtB,GAAOuB,UAAUC,OAAS,SAAUL,GAElC,MADAD,MAAKC,OAASA,EACP,GAAI1B,SAAQI,IAAI4B,QAAQP,OAGjClB,EAAOuB,UAAUG,OAAS,SAAUP,GAGlC,MAFAD,MAAKC,OAASA,EACdD,KAAKE,UAAY3B,QAAQI,IAAIwB,UAAUM,OAChC,GAAIlC,SAAQI,IAAI4B,QAAQP,OAG1BlB,KAGRP,QAAQI,IAAI+B,YACXN,QAAS,IACTO,KAAM,MAEPpC,QAAQI,IAAI4B,QAAU,WAErB,QAASA,GAAQK,GACfZ,KAAKY,OAASA,EACdZ,KAAKa,MAAQrC,OAQf,MALA+B,GAAQF,UAAUS,SAAW,SAAUD,GAErC,MADAb,MAAKa,MAAQA,EACN,GAAItC,SAAQI,IAAIoC,SAASf,OAG3BO,KAGRhC,QAAQI,IAAIqC,OACXZ,QAAS,SACTa,WAAY,QAEb1C,QAAQI,IAAIwB,WACXC,QAAS,IACTK,OAAQ,MAETlC,QAAQI,IAAIoC,SAAW,WAEtB,QAASA,GAASG,GAChBlB,KAAKkB,QAAUA,EACflB,KAAKmB,WAAa5C,QAAQI,IAAI+B,WAAWN,QA2B3C,MAxBAW,GAASV,UAAUe,aAAe,WAEhC,MADApB,MAAKmB,WAAa5C,QAAQI,IAAI+B,WAAWC,KAClCX,MAGTe,EAASV,UAAUb,SAAW,WAC5B,MAAOQ,MAAKkB,QAAQN,OAAO/B,OACzBmB,KAAKkB,QAAQN,OAAOV,UACpBF,KAAKmB,WACLnB,KAAKkB,QAAQN,OAAOX,OACpB,KACAD,KAAKkB,QAAQL,OASjBE,EAASV,UAAUgB,GAAK,SAAUC,GAChC,MAAOA,GAAQC,YAAYvB,OAGtBe,KAGRxC,QAAQI,IAAI6C,gBAAkB,WAE7B,QAASA,GAAgBC,EAAOC,GAC9B1B,KAAKyB,MAAQA,EACbzB,KAAK2B,aACL3B,KAAK0B,MAAQnD,QAAQI,IAAIqC,MAAMZ,QAC/BJ,KAAK4B,QAAUpD,OAEXkD,IACF1B,KAAK0B,MAAQA,GA0FjB,MA/EAF,GAAgBnB,UAAUkB,YAAc,SAAUM,GAIhD,MAHA7B,MAAK2B,UAAUG,KAAKD,GACpB7B,KAAK+B,WAEE/B,MAGTwB,EAAgBnB,UAAU2B,OAAS,WACjC,GAAIC,GAAS,EAETjC,MAAKyB,QACPQ,GAAU,UAAYjC,KAAKyB,MAAQ,KAGrC,KAAK,GAAIS,GAAI,EAAGA,EAAIlC,KAAK2B,UAAUzC,OAAQgD,IAAK,CAC9C,GAAIL,GAAW7B,KAAK2B,UAAUO,EAC9BD,IAAUJ,EAASrC,WAAa,KAGlC,MAAOyC,IAGTT,EAAgBnB,UAAU0B,SAAW,SAAUH,GACzCA,IACF5B,KAAK4B,QAAUA,EAGjB,IAAIK,GAASjC,KAAKgC,QAIlB,OAHAhC,MAAK4B,QAAQO,KAAKF,GAClBjC,KAAK4B,QAAQQ,iBAAiBC,MAAOrC,KAAK0B,QAEnC1B,MAGTwB,EAAgBnB,UAAUiC,UAAY,WAEpC,GAAIC,GAAavC,KAAK4B,QAAQY,SAAS,GAAGC,IAAI,GAC1CC,EAAWH,EAAWI,wBAAwBC,MAC9CC,EAAYN,EAAWI,wBAAwBG,OAE/CF,EAAQG,KAAKC,KAAKN,GAClBI,EAASC,KAAKC,KAAKH,GAGnBI,EAASC,SAASC,cAAc,SACpCF,GAAOL,MAAQA,EACfK,EAAOH,OAASA,EAChBG,EAAOvB,MAAM0B,QAAU,OACvBpD,KAAK4B,QAAQyB,OAAOJ,EAGpB,IAAIK,GAAQJ,SAASC,cAAc,MACnCG,GAAMC,YAAYhB,EAAWiB,WAAU,GACvC,IAAIC,GAAMH,EAAMI,UACZC,EAAarF,OAAOsF,KAAKtF,OAAOC,QAAQI,IAAIgB,SAASkE,mBAAmBJ,KAExEK,EAAO9D,KAEP+D,EAAQ,GAAIC,MAChBD,GAAME,IAAM,6BAA+BN,EAC3CI,EAAMG,OAAS,WACb,GAAIC,GAAUlB,EAAOmB,WAAW,KAChCD,GAAQE,UAAY,OACpBF,EAAQG,SAAS,EAAG,EAAG1B,EAAOE,GAC9BqB,EAAQI,UAAUR,EAAO,EAAG,EAG5B,IAAIS,GAAStB,SAASC,cAAc,IAElCqB,GAAOC,SADLX,EAAKrC,MACWqC,EAAKrC,MAAQ,OAEb,eAEpB+C,EAAOE,KAAOzB,EAAO0B,UAAU,aAC/Bb,EAAKlC,QAAQyB,OAAOmB,GACpBA,EAAOI,UAIJpD"}