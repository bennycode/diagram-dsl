{"version":3,"file":"diagrams-dsl.min.js","sources":["diagrams-dsl.js"],"names":["window","Diagram","undefined","console","warn","DSL","from","actorA","Action","escapeHash","input","ret","length","String","fromCharCode","substring","code","charCodeAt","toString","slice","toUpperCase","unescape","str","replace","seq","_","this","actorB","lineStyle","LineStyle","DEFAULT","prototype","lineTo","Command","dashTo","DASHED","ArrowStyle","OPEN","action","label","withText","Sequence","DiagramStyle","HAND_DRAWN","command","arrowStyle","andOpenArrow","SequenceDiagram","title","style","sequences","element","render","output","i","sequence","renderTo","html","sequenceDiagram","theme","saveAsPng","svgElement","children","get","svgWidth","getBoundingClientRect","width","svgHeight","height","Math","ceil","canvas","document","createElement","display","append","outer","appendChild","cloneNode","xml","innerHTML","unicodeXml","btoa","encodeURIComponent","self","image","Image","src","onload","context","getContext","fillStyle","fillRect","drawImage","anchor","download","href","toDataURL","click"],"mappings":"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"}