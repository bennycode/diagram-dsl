{"version":3,"file":"diagram-dsl.min.js","sources":["diagram-dsl.js"],"names":["window","Diagram","undefined","console","warn","DSL","from","actorA","Action","escapeHash","input","ret","length","String","fromCharCode","substring","code","charCodeAt","toString","slice","toUpperCase","unescape","str","replace","seq","_","this","actorB","lineStyle","LineStyle","DEFAULT","prototype","lineTo","Command","dashTo","DASHED","ArrowStyle","OPEN","action","label","withText","Sequence","Theme","HAND_DRAWN","command","arrowStyle","andOpenArrow","on","diagram","addSequence","SequenceDiagram","title","style","sequences","element","sequence","push","renderTo","render","output","i","renderFrom","textContent","innerText","parsedOutput","parse","drawSVG","html","sequenceDiagram","theme","saveAsPng","svgElement","firstChild","svgWidth","getBoundingClientRect","width","svgHeight","height","Math","ceil","canvas","document","createElement","display","appendChild","outer","cloneNode","xml","innerHTML","unicodeXml","btoa","encodeURIComponent","self","image","Image","src","onload","context","getContext","fillStyle","fillRect","drawImage","anchor","download","href","toDataURL","click","remove"],"mappings":";;CACA,WACEA,OAAOC,QAAUD,OAAOC,SAAWC,OAEL,mBAAnBF,QAAOC,SAEhBE,QAAQC,KAAK,uEACbD,QAAQC,KAAK,yEAIbJ,OAAOC,QAAQI,IAAML,OAAOC,QAAQI,QACpCL,OAAOC,QAAQI,IAAIC,KAAO,SAAcC,GACtC,MAAO,IAAIN,SAAQI,IAAIG,OAAOD,IAShCP,OAAOC,QAAQI,IAAII,WAAa,SAAUC,GACxC,GAAIC,GAAMX,OAAOC,QAAQI,IAAII,WAAWC,EACxC,KAAKC,EAAK,CACR,GAAID,EAAME,OAAS,EACjBD,EAAME,OAAOC,aAAaJ,EAAMK,UAAUL,EAAME,OAAS,EAAI,EAAI,QAE9D,CACH,GAAII,GAAON,EAAMO,WAAW,EAC5BN,GAAa,IAAPK,EACF,KAAO,EAAIA,EAAKE,SAAS,KAAKC,MAAM,IAAIC,cACxC,MAAQ,MAAQJ,EAAKE,SAAS,KAAKC,MAAM,IAAIC,cAEnDpB,OAAOC,QAAQI,IAAII,WAAWE,GAAOD,EACrCV,OAAOC,QAAQI,IAAII,WAAWC,GAASC,EAEzC,MAAOA,IAGTX,OAAOC,QAAQI,IAAIgB,SAAWrB,OAAOqB,UAAY,SAAUC,GACzD,MAAOA,GAAIC,QAAQ,8BAA+B,SAAUC,GAC1D,MAAOxB,QAAOC,QAAQI,IAAII,WAAWgB,EAAED,UAM9CvB,QAAQI,IAAIG,OAAS,WAEpB,QAASA,GAAOD,GACdmB,KAAKnB,OAASA,EACdmB,KAAKC,OAASzB,OACdwB,KAAKE,UAAY3B,QAAQI,IAAIwB,UAAUC,QAczC,MAXAtB,GAAOuB,UAAUC,OAAS,SAAUL,GAElC,MADAD,MAAKC,OAASA,EACP,GAAI1B,SAAQI,IAAI4B,QAAQP,OAGjClB,EAAOuB,UAAUG,OAAS,SAAUP,GAGlC,MAFAD,MAAKC,OAASA,EACdD,KAAKE,UAAY3B,QAAQI,IAAIwB,UAAUM,OAChC,GAAIlC,SAAQI,IAAI4B,QAAQP,OAG1BlB,KAGRP,QAAQI,IAAI+B,YACXN,QAAS,IACTO,KAAM,MAEPpC,QAAQI,IAAI4B,QAAU,WAErB,QAASA,GAAQK,GACfZ,KAAKY,OAASA,EACdZ,KAAKa,MAAQrC,OAQf,MALA+B,GAAQF,UAAUS,SAAW,SAAUD,GAErC,MADAb,MAAKa,MAAQA,EACN,GAAItC,SAAQI,IAAIoC,SAASf,OAG3BO,KAGRhC,QAAQI,IAAIqC,OACXZ,QAAS,SACTa,WAAY,QAEb1C,QAAQI,IAAIwB,WACXC,QAAS,IACTK,OAAQ,MAETlC,QAAQI,IAAIoC,SAAW,WAEtB,QAASA,GAASG,GAChBlB,KAAKkB,QAAUA,EACflB,KAAKmB,WAAa5C,QAAQI,IAAI+B,WAAWN,QA2B3C,MAxBAW,GAASV,UAAUe,aAAe,WAEhC,MADApB,MAAKmB,WAAa5C,QAAQI,IAAI+B,WAAWC,KAClCX,MAGTe,EAASV,UAAUb,SAAW,WAC5B,MAAOQ,MAAKkB,QAAQN,OAAO/B,OACzBmB,KAAKkB,QAAQN,OAAOV,UACpBF,KAAKmB,WACLnB,KAAKkB,QAAQN,OAAOX,OACpB,KACAD,KAAKkB,QAAQL,OASjBE,EAASV,UAAUgB,GAAK,SAAUC,GAChC,MAAOA,GAAQC,YAAYvB,OAGtBe,KAGRxC,QAAQI,IAAI6C,gBAAkB,WAE7B,QAASA,GAAgBC,EAAOC,GAC9B1B,KAAKyB,MAAQA,EACbzB,KAAK2B,aACL3B,KAAK0B,MAAQnD,QAAQI,IAAIqC,MAAMZ,QAC/BJ,KAAK4B,QAAUpD,OAEXkD,IACF1B,KAAK0B,MAAQA,GAsHjB,MA3GAF,GAAgBnB,UAAUkB,YAAc,SAAUM,GAIhD,MAHA7B,MAAK2B,UAAUG,KAAKD,GACpB7B,KAAK+B,WAEE/B,MAGTwB,EAAgBnB,UAAU2B,OAAS,WACjC,GAAIC,GAAS,EAETjC,MAAKyB,QACPQ,GAAU,UAAYjC,KAAKyB,MAAQ,KAGrC,KAAK,GAAIS,GAAI,EAAGA,EAAIlC,KAAK2B,UAAUzC,OAAQgD,IAAK,CAC9C,GAAIL,GAAW7B,KAAK2B,UAAUO,EAC9BD,IAAUJ,EAASrC,WAAa,KAGlC,MAAOyC,IAaTT,EAAgBnB,UAAU8B,WAAa,SAAUP,GAC3CA,IACF5B,KAAK4B,QAAUA,EAGjB,IAAIK,GAASL,EAAQQ,aAAeR,EAAQS,SAC5CT,GAAQS,UAAY,EAEpB,IAAIC,GAAe/D,QAAQgE,MAAMN,EAGjC,OAFAK,GAAaE,QAAQZ,GAEd5B,MAGTwB,EAAgBnB,UAAU0B,SAAW,SAAUH,GACzCA,IACF5B,KAAK4B,QAAUA,EAGjB,IAAIK,GAASjC,KAAKgC,QAIlB,OAHAhC,MAAK4B,QAAQa,KAAKR,GAClBjC,KAAK4B,QAAQc,iBAAiBC,MAAO3C,KAAK0B,QAEnC1B,MAGTwB,EAAgBnB,UAAUuC,UAAY,WAEpC,GAAIC,GAAa7C,KAAK4B,QAAQkB,WAC1BC,EAAWF,EAAWG,wBAAwBC,MAC9CC,EAAYL,EAAWG,wBAAwBG,OAE/CF,EAAQG,KAAKC,KAAKN,GAClBI,EAASC,KAAKC,KAAKH,GAGnBI,EAASC,SAASC,cAAc,SACpCF,GAAOL,MAAQA,EACfK,EAAOH,OAASA,EAChBG,EAAO5B,MAAM+B,QAAU,OACvBzD,KAAK4B,QAAQ8B,YAAYJ,EAGzB,IAAIK,GAAQJ,SAASC,cAAc,MACnCG,GAAMD,YAAYb,EAAWe,WAAU,GACvC,IAAIC,GAAMF,EAAMG,UACZC,EAAazF,OAAO0F,KAAK1F,OAAOC,QAAQI,IAAIgB,SAASsE,mBAAmBJ,KAExEK,EAAOlE,KAEPmE,EAAQ,GAAIC,MAChBD,GAAME,IAAM,6BAA+BN,EAC3CI,EAAMG,OAAS,WACb,GAAIC,GAAUjB,EAAOkB,WAAW,KAChCD,GAAQE,UAAY,OACpBF,EAAQG,SAAS,EAAG,EAAGzB,EAAOE,GAC9BoB,EAAQI,UAAUR,EAAO,EAAG,EAG5B,IAAIS,GAASrB,SAASC,cAAc,IAElCoB,GAAOC,SADLX,EAAKzC,MACWyC,EAAKzC,MAAQ,OAEb,eAEpBmD,EAAOE,KAAOxB,EAAOyB,UAAU,aAC/Bb,EAAKtC,QAAQ8B,YAAYkB,GACzBA,EAAOI,QAGP1B,EAAO2B,SACPL,EAAOK,WAIJzD"}